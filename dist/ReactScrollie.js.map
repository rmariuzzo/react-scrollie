{"version":3,"file":"ReactScrollie.js","sources":["../src/ReactScrollie.js"],"sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport debounce from 'lodash.debounce'\n\n/**\n * The Scrollie component.\n */\nclass Scrollie extends Component {\n  /**\n   * Construct a Scrollie object instance.\n   * @param {Object} props\n   */\n  constructor(props) {\n    super(props)\n    this.state = {\n      startX: false,\n      endX: false,\n      startY: false,\n      endY: false\n    }\n    this.updateScrollInfo = debounce(this.updateScrollInfo.bind(this), 50)\n  }\n\n  /**\n   * When a Scrollie component mounts listen to scroll events and immediately update scroll info.\n   */\n  componentDidMount() {\n    this.root.addEventListener('scroll', this.updateScrollInfo)\n    this.updateScrollInfo()\n  }\n\n  /**\n   * When a Scrollie component will unmount then unlisten to scroll events.\n   */\n  componentWillUnmount() {\n    this.root.removeEventListener('scroll', this.updateScrollInfo)\n  }\n\n  /**\n   * Render the Scrollie component.\n   */\n  render() {\n    const { children, component, ...more } = this.props\n    const Component = component\n\n    return (\n      <Component {...more} ref={el => (this.root = el)}>\n        {children(this.state)}\n      </Component>\n    )\n  }\n\n  /**\n   * Update scroll info based on the current rendered node.\n   */\n  updateScrollInfo() {\n    const { scrollWidth, scrollLeft, clientWidth } = this.root\n    const startX = scrollLeft === 0\n    const endX = clientWidth + scrollLeft >= scrollWidth\n\n    const { scrollHeight, scrollTop, clientHeight } = this.root\n    const startY = scrollTop === 0\n    const endY = clientHeight + scrollTop >= scrollHeight\n\n    this.setState({ startX, endX, startY, endY })\n  }\n}\n\nScrollie.propTypes = {\n  children: PropTypes.func.isRequired,\n  component: PropTypes.oneOfType([PropTypes.string, PropTypes.func])\n}\n\nScrollie.defaultProps = {\n  component: 'div'\n}\n\nexport default Scrollie\n"],"names":["Scrollie","props","state","updateScrollInfo","debounce","_this","bind","root","addEventListener","this","removeEventListener","children","component","more","Component","React","ref","_this2","el","scrollWidth","scrollLeft","startX","endX","clientWidth","scrollHeight","scrollTop","startY","endY","clientHeight","setState","propTypes","PropTypes","func","isRequired","oneOfType","string","defaultProps"],"mappings":"66CAOMA,gCAKQC,iHACJA,aACDC,eACK,QACF,UACE,QACF,KAEHC,iBAAmBC,SAASC,EAAKF,iBAAiBG,QAAY,yFAO9DC,KAAKC,iBAAiB,SAAUC,KAAKN,uBACrCA,uEAOAI,KAAKG,oBAAoB,SAAUD,KAAKN,gEAOJM,KAAKR,MAAtCU,IAAAA,SAAUC,IAAAA,UAAcC,sDAC1BC,EAAYF,SAGhBG,2CAAeF,GAAMG,IAAK,mBAAOC,EAAKV,KAAOW,OACjCT,KAAKP,yDAS8BO,KAAKF,KAA9CY,IAAAA,YAAaC,IAAAA,WACfC,EAAwB,IAAfD,EACTE,IAF2BC,YAENH,GAAcD,IAESV,KAAKF,KAA/CiB,IAAAA,aAAcC,IAAAA,UAChBC,EAAuB,IAAdD,EACTE,IAF2BC,aAELH,GAAaD,OAEpCK,UAAWR,SAAQC,OAAMI,SAAQC,gBAzDnBb,iBA6DvBd,SAAS8B,oBACGC,UAAUC,KAAKC,qBACdF,UAAUG,WAAWH,UAAUI,OAAQJ,UAAUC,QAG9DhC,SAASoC,wBACI"}